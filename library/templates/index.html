{% extends "layout.html" %}
{% block headline %} Books Library {% endblock %}
{%block subhead %}
<hr />
&nbsp;{{ total }} books - {{ total_auth }} authors in Total
{% endblock %}
{%block content %}
<ul>
    {% if books|count == 0 %}
    <p>Library is empty</p>
    {% else %}
    {% set title='random' %}
    {% for book in books %}
    {% if book.title|lower != title|lower %}

    <li>
        <button class="btn btn-outline-secondary btn-sm">
            <a href="{{ url_for('book.edit_title', id=book.id) }}"
                style="text-decoration: none; color: darkgray">Edit</a>
        </button>
        <button class="btn btn-outline-danger btn-sm">
            <a href="{{ url_for('book.book_details', id=book.id, book=book) }}"
                style="text-decoration: none; color: orangered">Delete</a>
        </button>&ensp;▫️
        <a href="{{ url_for('book.edit_title', id=book.id) }}">{{ book.title
                                }}</a>
        - {{book.first_publish}} -
        {% for author in book.authors %}
        <a href="{{ url_for('author.bibliography', id=book.id, author=author.fullname) }}">
            {{ author.fullname }} {{ '|' if not loop.last else ''}}</a>
        {% endfor %}
        - {{ book.rating }}/10
    </li>
    {% set title = book.title|lower %}
    {%endif%}
    {% endfor %}
    {% endif %}
</ul>
<br />
{% endblock %}